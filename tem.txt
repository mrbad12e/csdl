Fix this code:
@app.route('/minus/<string:cart_id>/<string:variation_id>/', methods=['POST'])
def reduce_quantity(cart_id, variation_id):
    cur.execute('update cartitem set quantity=quantity-1 where cart_id=%s and variation_id=%s', (cart_id, variation_id, ))
    conn.commit()
    total_amount()
    return redirect('/cart')

If that cartitem's quantity =0 then move to remove_item

@app.route('/remove/<string:cart_id>/<string:variation_id>/', methods=['POST'])
def remove_item(cart_id, variation_id):
    cur.execute('delete from cartitem where cart_id=%s and variation_id=%s', (cart_id, variation_id, ))
    conn.commit()
    total_amount()
    return redirect('/cart')